!!!
// [if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]
// [if IE 7 ]><html class="ie ie7" lang="en"> <![endif]
// [if IE 8 ]><html class="ie ie8" lang="en"> <![endif]
// [if (gte IE 9)|!(IE)]><html lang="en"> <![endif]
html
  head
    meta(charset="utf-8")
    title Profanity and Profundity - Kyle Shipley's Blog
    meta(name="description", content="")
    meta(name="author", content="Kyle Shipley")

    meta(name="viewport", content="width=device-width, initial-scale=1, maximum-scale=1")

    link(rel="stylesheet", href="/stylesheets/main.css")
    script(src="/javascripts/prism.js", data-manual)
    script(src="/javascripts/prism-ruby.js")

    // [if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]

    link(rel="shortcut icon", href="/images/favicon.ico")
    link(rel="apple-touch-icon", href="/images/apple-touch-icon.png")
    link(rel="apple-touch-icon", sizes="72x72", href="/images/apple-touch-icon-72x72.png")
    link(rel="apple-touch-icon", sizes="114x114", href="/images/apple-touch-icon-114x114.png")

  body
    - contentClass = current.path[0] == "posts" ? "post" : ""

    .container
      .four.columns.sidebar
        nav
          h2.brand
            a(href="/")
              | Profanity & Profundity
          h5 Mostly the latter

        .info
          img.avatar(src="/images/kyle.jpeg")
          .bio
            p I'm <a href="https://twitter.com/kyleashipley">@kyleashipley</a>.
            p I <a href="https://github.com/shipstar">write code</a>, usually in Ruby or CoffeeScript.
            p I also run experiments at <a href="http://refoundry.co">Refoundry.co</a>.
      .eleven.columns.content(class=contentClass)

        if current.path[0] == "posts"
          != partial("posts/_time.jade", { timeToRead: timeToRead })

        != yield

    script.
      // Possibly hyper-aggressive Ruby highlighting.
      var codeBlocks = document.getElementsByTagName("code");
      for (var i = 0; i < codeBlocks.length; i++) {
        var block = codeBlocks[i];
        if (block.textContent.match(/def\b|\.rb|@\w*\b|\(main\)|\bend\b|[A-Z]\w*\.new/)) {
          block.className += "language-ruby";
        }
      };
      Prism.highlightAll();
